<!doctype html>
<html lang="en">

<head>
    <title>ArcGis Usage</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="stylesheet" href="https://js.arcgis.com/4.25/esri/themes/light/main.css">

    <style>
        #viewDiv {
            padding: 0;
            margin: 0;
            height: 400px;
            max-width: 800px;
        }

        .scroll {
            max-height: 150px;
            overflow-y: auto;
        }
    </style>

    <script src="https://js.arcgis.com/4.25/"></script>

    <script>
        require(["esri/config", "esri/Map", "esri/views/MapView", "esri/Graphic", "esri/layers/GraphicsLayer"], function (esriConfig, Map, MapView, Graphic, GraphicsLayer) {
            esriConfig.apiKey = "AAPKb5a5e5af00e54955bce1f3280229a215hDZ-_aERiSaO5KxeRlyejFsLAzGnkT4wEeaGuh60phblT7J_AbafkC59BUVyXUUA";

            const map = new Map({
                basemap: "arcgis-imagery" // Basemap layer service
            });

            const view = new MapView({
                map: map,
                center: [-48.0774443, -15.7217175], // Longitude, latitude
                zoom: 1, // Zoom level
                container: "viewDiv" // Div element
            });

            function createPoint(title = new String, content = new String, lon = new Number, lat = new Number, color = [new Number], idList = new String) {
                const graphicsLayer = new GraphicsLayer();
                map.add(graphicsLayer);

                const placePopup = {
                    title: this.title,
                    content: this.content
                }

                const placePoint = { //Create a point
                    type: "point",
                    longitude: this.lon,
                    latitude: this.lat
                };

                const placeSimpleMarkerSymbol = {
                    type: "simple-marker",
                    color: this.color,  // Orange
                    outline: null
                };

                const placePointGraphic = new Graphic({
                    geometry: placePoint,
                    symbol: placeSimpleMarkerSymbol,
                    popupTemplate: placePopup
                });

                graphicsLayer.add(placePointGraphic);

                document.getElementById(idList).innerHTML = title;
            };

            south_america_color = [255, 193, 7]; // bootstrap = bg-warning
            north_america_color = [220, 53, 69]; // bootstrap = bg-alert

            place_1 = createPoint(
                title = "Machu Picchu",
                content = "Located on top of a mountain in the middle of a tropical forest, it is considered the tourist attraction par excellence in Peru. The historic sanctuary is a place that captivates tourists not only for its dazzling architectural beauty, but also for its important historical-cultural legacy, which has led it to be recognized and admired throughout the world.",
                lon = -72.54509113497029,
                lat = -13.16445656450498,
                color = south_america_color,
                idList = "place_1"
            );

            place_2 = createPoint(
                title = "Nevados de Chillán",
                content = "Situated about 6hrs south of Santiago, Nevados de Chillan (pronounced “Chiyan”) is a resort on the rise. With it’s ever-changing terrain, 1100m of vertical, friendly atmosphere and incredible backcountry access, Chillan is becoming known among South American snowboarders and, more recently, some international riders.",
                lon = -71.83188288956661,
                lat = -36.62880950018686,
                color = south_america_color,
                idList = "place_2"
            );

        });
    </script>

</head>

<body class="bg-black">
    <div class="d-flex justify-content-center min-vh-100 align-items-center">
        <div class="card border-dark mb-3 m-3" style="max-width: 900px; max-height: 800px;">
            <div class="row g-0">
                <div class="col-md-6">
                    <div id="viewDiv"></div>
                </div>
                <div class="col-md-6 bg-dark">
                    <div class="card-body bg-white">
                        <h4 class="card-title">Places I want to visit</h4>
                        <p class="card-text scroll">
                            Explore the map, find the places of the list bellow and click on the point to know more
                            informations about the place.<br><span class="fw-bold">Have fun!</span>
                        </p>
                        <ul class="list-group scroll">
                            <li class="list-group-item bg-warning fw-bold">South America</li>
                            <li class="list-group-item" id="place_1"></li>
                            <li class="list-group-item" id="place_2"></li>
                            <li class="list-group-item" id="place_3"></li>
                            <li class="list-group-item" id="place_4"></li>
                            <li class="list-group-item" id="place_5"></li>
                            <li class="list-group-item" id="place_6"></li>
                            <li class="list-group-item" id="place_7"></li>
                            <li class="list-group-item" id="place_8"></li>
                            <li class="list-group-item" id="place_9"></li>
                            <li class="list-group-item" id="place_10"></li>
                            <li class="list-group-item" id="place_11"></li>
                            <li class="list-group-item" id="place_12"></li>
                            <li class="list-group-item" id="place_13"></li>
                            <li class="list-group-item" id="place_14"></li>
                            <li class="list-group-item" id="place_15"></li>
                            <li class="list-group-item" id="place_16"></li>
                            <li class="list-group-item" id="place_17"></li>
                            <li class="list-group-item" id="place_18"></li>
                            <li class="list-group-item" id="place_19"></li>
                            <li class="list-group-item" id="place_20"></li>
                        </ul>

                        <p class="card-text"><small class="text-muted">Created at November 30th 2022</small></p>
                    </div>
                    <div class="card-footer text-center text-bg-dark">
                        © 2022 - Christopher Mendes - Made with Bootstrap and ArcGIS
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>